{% extends 'templates/_document.twig' %}

{% block content %}
  {% for component in post.meta('pagenavigationComponents') %}
    {{ renderComponent(component) }}
  {% endfor %}
  <article class="post">
    {% if post.thumbnail %}
    <div class="post-featuredImage componentSpacing">
      <img src="{{ post.thumbnail }}"
      data-srcset="{{function('wp_get_attachment_image_srcset', post.thumbnail.id)}}"
      data-sizes="auto">
      {% if post.thumbnail.caption %}
        <figcaption class="figure-caption small">{{ post.thumbnail.caption|e }}</figcaption>
      {% endif %}
    </div>
    {% endif %}
    <header class="post-header componentSpacing">
      <div class="left">
        <h1>{{ post.title }}</h1>
        {% if post.yearProject or post.postWhere or post.postWhat %}
          <div class="meta">
            <div>
              <span>Type</span>
              <span>{{ post.yearType|e('wp_kses_post') }}</span>
            </div>
            <div>
              <span>Methods</span>
              <span>{{ post.postMethods|e('wp_kses_post') }}</span>
            </div>
            <div>
              <span>Grant Size</span>
              <span>{{ post.postGrantSize|e('wp_kses_post') }}</span>
            </div>
            <div>
              <span>Location</span>
              <span>{{ post.yearLocation|e('wp_kses_post') }}</span>
            </div>
            <div>
              <span>Year</span>
              <span>{{ post.postYear|e('wp_kses_post') }}</span>
            </div>
            <div>
              <span>Partners</span>
              <span>{{ post.postPartners|e('wp_kses_post') }}</span>
            </div>
          </div>
        {% endif %}
      </div>
      <div class="right">
      {% if post.introHtml %}
        <div class="intro">{{ post.introHtml|e('wp_kses_post') }}</div>
      {% endif %}
      </div>
    </header>
    <section class="post-main">
      {% for component in post.meta('projectComponents') %}
        {{ renderComponent(component) }}
      {% endfor %}
    </section>
    {# <section class="post-related">
      {{ renderComponent('GridPostsLatest', {'preContentHtml': '<h2>' ~ __('Related Posts') ~ '</h2>','taxonomies': post.categories(), 'options': {'theme': 'themeLight', 'columns': 3}}) }}
    </section> #}
  </article>
{% endblock %}
